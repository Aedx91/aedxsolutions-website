/* Tailwind v4 setup */
@import "tailwindcss";
@import url("https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&family=Sora:wght@500;600;700&display=swap");

/* Base body styling */
body {
  background: var(--surface-app);
  color: var(--text-primary);
  font-family: "Manrope", "Segoe UI", "Helvetica Neue", sans-serif;
}
/* Utility gradient text (optional) */
.gradient-text { background: linear-gradient(90deg,var(--brand-primary),var(--brand-secondary)); -webkit-background-clip:text; background-clip:text; color:transparent; }
.focus-ring:focus-visible { outline: 2px solid var(--brand-secondary); outline-offset: 2px; }
.font-display { font-family: "Sora", "Segoe UI", sans-serif; letter-spacing: -0.02em; }
.shadow-glow { box-shadow: 0 18px 40px rgba(0, 120, 212, 0.18), 0 6px 16px rgba(0, 0, 0, 0.12); }

/* Better typography inside prose */
.prose h2 { scroll-margin-top: 6rem; }
.prose a { text-decoration: underline; text-underline-offset: 2px; }
.prose a:hover { text-decoration-thickness: 2px; }

/* Tighter global paragraph rhythm */
p { margin: 0; }
p + p { margin-top: 0.75rem; }

/* Accessible focus outline reset */
a:focus-visible, button:focus-visible { outline: 2px solid var(--brand-primary); outline-offset: 3px; }

/* Utility layout tokens */
.container { max-width: 72rem; margin-left: auto; margin-right: auto; padding-left: 1rem; padding-right: 1rem; }
@media (min-width: 640px) { .container { padding-left: 1.5rem; padding-right: 1.5rem; } }
@media (min-width: 1024px) { .container { padding-left: 2rem; padding-right: 2rem; } }
.section-pad { padding-top: 4rem; padding-bottom: 4rem; }
@media (min-width: 640px) { .section-pad { padding-top: 5rem; padding-bottom: 5rem; } }
@media (min-width: 1024px) { .section-pad { padding-top: 6rem; padding-bottom: 6rem; } }
.radial-soft { background: radial-gradient(40rem 40rem at 50% -10%, rgba(0,0,0,0.06), transparent 60%); }

/* Mobile nav push effect */
.site-shell {
  position: relative;
  z-index: 2;
  transition: transform 0.35s ease, filter 0.35s ease;
  will-change: transform;
}
@media (max-width: 767px) {
  :root[data-nav-open="true"] .site-shell {
    transform: translateX(calc(-1 * min(78vw, 320px)));
    filter: saturate(0.9);
  }
}

/* Hero helpers */
/* Softer, layered hero gradient that blends into page background without harsh cutoff */
.hero-bg-base {
  /* Base layered gradients: subtle top glow + smooth blend to app surface */
  background-image:
    radial-gradient(60rem 30rem at 18% -12%, color-mix(in oklab, var(--brand-primary) 16%, transparent), transparent 62%),
    radial-gradient(44rem 26rem at 82% -14%, color-mix(in oklab, var(--brand-secondary) 12%, transparent), transparent 58%),
    linear-gradient(180deg, var(--surface-hero) 0%, var(--surface-app) 100%);
  background-repeat: no-repeat;
  background-position: center top;
  background-size: 100% 100%;
}

/* Simple solid hero background for a clean, no-band look */
.hero-bg-solid {
  background-color: var(--surface-hero);
}

/* Feather the bottom edge to avoid visible banding between hero and next section */
.hero-bg-feather {
  -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 70%, rgba(0,0,0,0) 100%);
  mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 70%, rgba(0,0,0,0) 100%);
}

.hero-bg-overlay { background: linear-gradient(var(--hero-overlay), var(--hero-overlay)); }
.icon-gradient { background: linear-gradient(135deg,var(--brand-primary),var(--brand-secondary)); }

/* Decorative hero texture as a standalone overlay (so it can span header + hero and be feathered). */
.hero-pattern-overlay {
  background-image:
    radial-gradient(60rem 30rem at 18% -12%, color-mix(in oklab, var(--brand-primary) 8%, transparent), transparent 62%),
    radial-gradient(44rem 26rem at 82% -14%, color-mix(in oklab, var(--brand-secondary) 6%, transparent), transparent 58%),
    repeating-linear-gradient(
      45deg,
      transparent,
      transparent 60px,
      color-mix(in oklab, var(--brand-primary) 4%, transparent) 60px,
      color-mix(in oklab, var(--brand-primary) 4%, transparent) 62px
    );
  background-repeat: no-repeat;
  background-position: center top;
  background-size: 100% 100%;
}

/* Avoid a hard cutoff where the hero::before texture ends. */
.hero::before { display: none; }

/* Respect reduced motion users: keep color presence but remove perceived animation/strong contrast */
@media (prefers-reduced-motion: reduce) {
  .hero-bg-base {
    background-image:
      radial-gradient(50rem 26rem at 20% -10%, color-mix(in oklab, var(--brand-primary) 22%, transparent), transparent 60%),
      linear-gradient(180deg, var(--surface-section) 0%, var(--surface-app) 100%);
  }
  .hero-bg-feather {
    -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 70%, rgba(0,0,0,0) 100%);
    mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 70%, rgba(0,0,0,0) 100%);
  }
}

/* Helper to feather the top edge of the next section under hero */
.section-top-feather {
  -webkit-mask-image: linear-gradient(to top, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 100%);
  mask-image: linear-gradient(to top, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 100%);
}

/* Utility: app-surface background helper to avoid inline styles */
.bg-app-surface { background: var(--surface-app); }

/* Header nav pills (compact, button-like links). */
.nav-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.45rem 0.8rem;
  border-radius: 0.75rem;
  font-weight: 600;
  font-size: 0.75rem;
  line-height: 1;
  background: transparent;
  color: var(--text-primary);
  border: 1px solid var(--border-subtle);
  transition: all 0.2s ease-in-out;
}
.nav-pill:hover {
  border-color: var(--border-hover);
  background: rgba(0, 120, 212, 0.04);
  transform: translateY(-1px);
}
[data-theme="dark"] .nav-pill {
  color: #fff;
  border-color: rgba(255, 255, 255, 0.24);
}
[data-theme="dark"] .nav-pill:hover {
  border-color: var(--border-hover);
  background: rgba(0, 174, 239, 0.08);
}
@media (prefers-reduced-motion: reduce) {
  .nav-pill { transition: none; }
  .nav-pill:hover { transform: none; }
}

/* Carmy roulette visuals */
.roulette-slices-1 {
  background: rgba(88, 28, 135, 0.88);
}

.roulette-slices-2 {
  background: conic-gradient(
    rgba(88, 28, 135, 0.88) 0deg 180deg,
    rgba(112, 26, 117, 0.82) 180deg 360deg
  );
}

.roulette-slices-3 {
  background: conic-gradient(
    rgba(88, 28, 135, 0.88) 0deg 120deg,
    rgba(112, 26, 117, 0.82) 120deg 240deg,
    rgba(126, 34, 206, 0.78) 240deg 360deg
  );
}

.roulette-slices-4 {
  background: conic-gradient(
    rgba(88, 28, 135, 0.88) 0deg 90deg,
    rgba(112, 26, 117, 0.82) 90deg 180deg,
    rgba(126, 34, 206, 0.78) 180deg 270deg,
    rgba(134, 25, 143, 0.76) 270deg 360deg
  );
}

.roulette-slices-5 {
  background: conic-gradient(
    rgba(88, 28, 135, 0.88) 0deg 72deg,
    rgba(112, 26, 117, 0.82) 72deg 144deg,
    rgba(126, 34, 206, 0.78) 144deg 216deg,
    rgba(134, 25, 143, 0.76) 216deg 288deg,
    rgba(91, 33, 182, 0.8) 288deg 360deg
  );
}

.roulette-slices-6 {
  background: conic-gradient(
    rgba(88, 28, 135, 0.88) 0deg 60deg,
    rgba(112, 26, 117, 0.82) 60deg 120deg,
    rgba(126, 34, 206, 0.78) 120deg 180deg,
    rgba(134, 25, 143, 0.76) 180deg 240deg,
    rgba(91, 33, 182, 0.8) 240deg 300deg,
    rgba(112, 26, 117, 0.82) 300deg 360deg
  );
}

.roulette-wheel-depth {
  box-shadow:
    inset 0 8px 26px rgba(255, 255, 255, 0.07),
    inset 0 -22px 28px rgba(0, 0, 0, 0.42),
    0 18px 38px rgba(31, 0, 43, 0.38);
}

.roulette-wheel-shade {
  background:
    radial-gradient(circle at 50% 28%, rgba(255, 255, 255, 0.14), transparent 43%),
    radial-gradient(circle at 50% 72%, rgba(0, 0, 0, 0.28), transparent 50%);
}

.roulette-wheel-grain {
  background-image:
    repeating-linear-gradient(
      45deg,
      rgba(255, 255, 255, 0.018),
      rgba(255, 255, 255, 0.018) 2px,
      transparent 2px,
      transparent 6px
    );
  opacity: 0.45;
}

.roulette-wheel-rim {
  box-shadow:
    inset 0 0 0 2px rgba(246, 128, 219, 0.22),
    inset 0 0 18px rgba(236, 72, 153, 0.16);
}

@keyframes rouletteBrakeShake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-1px); }
  40% { transform: translateX(1px); }
  60% { transform: translateX(-1px); }
  80% { transform: translateX(1px); }
}

.roulette-brake-shake {
  animation: rouletteBrakeShake 0.34s ease-out;
}

@keyframes rouletteBrakeRing {
  0% { opacity: 0.8; transform: scale(1); }
  100% { opacity: 0; transform: scale(1.06); }
}

.roulette-brake-ring {
  animation: rouletteBrakeRing 0.45s ease-out;
}

@keyframes roulettePunkPanelPop {
  0% {
    opacity: 0.55;
    transform: translateY(7px) scale(0.97);
    box-shadow: 0 0 0 rgba(236, 72, 153, 0);
  }
  40% {
    opacity: 1;
    transform: translateY(-2px) scale(1.02);
    box-shadow: 0 0 24px rgba(236, 72, 153, 0.26), 0 0 32px rgba(147, 51, 234, 0.2);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    box-shadow: 0 0 0 rgba(236, 72, 153, 0);
  }
}

@keyframes roulettePunkTextGlitch {
  0% { opacity: 0; transform: translateY(3px); text-shadow: 0 0 0 rgba(236, 72, 153, 0); }
  20% { opacity: 1; transform: translateY(-1px); text-shadow: 1px 0 rgba(236, 72, 153, 0.55), -1px 0 rgba(168, 85, 247, 0.45); }
  38% { transform: translateX(1px); }
  56% { transform: translateX(-1px); }
  100% { opacity: 1; transform: translate(0, 0); text-shadow: 0 1px 8px rgba(0, 0, 0, 0.45); }
}

.roulette-result-panel {
  position: relative;
  background-image: linear-gradient(145deg, rgba(14, 7, 26, 0.86), rgba(36, 10, 46, 0.68));
  -webkit-backdrop-filter: blur(1.5px);
  backdrop-filter: blur(1.5px);
}

.roulette-result-kicker {
  color: #f2b3e5;
}

.roulette-result-punk-pop {
  animation: roulettePunkPanelPop 0.42s cubic-bezier(0.2, 0.85, 0.24, 1);
}

.roulette-result-punk-text {
  display: inline-block;
  animation: roulettePunkTextGlitch 0.44s ease-out;
}

@keyframes rouletteCenterGlow {
  0% { box-shadow: 0 0 0 rgba(236, 72, 153, 0); }
  55% { box-shadow: 0 0 24px rgba(236, 72, 153, 0.35); }
  100% { box-shadow: 0 0 0 rgba(236, 72, 153, 0); }
}

.roulette-center-glow {
  animation: rouletteCenterGlow 0.42s ease-out;
}

@keyframes rouletteCenterTextPop {
  0% { opacity: 0; transform: scale(0.92); }
  70% { opacity: 1; transform: scale(1.03); }
  100% { opacity: 1; transform: scale(1); }
}

.roulette-center-text-pop {
  display: inline-block;
  animation: rouletteCenterTextPop 0.38s ease-out;
}

@keyframes roulettePointerTick {
  0%, 100% { transform: rotate(0deg); }
  30% { transform: rotate(-3deg); }
  60% { transform: rotate(2.2deg); }
}

.roulette-pointer-tick-pulse {
  transform-origin: 50% 0;
  animation: roulettePointerTick 0.08s ease-out;
}

@keyframes roulettePointerKick {
  0% { transform: rotate(0deg) scale(1); }
  35% { transform: rotate(-10deg) scale(1.02); }
  70% { transform: rotate(5deg) scale(1.01); }
  100% { transform: rotate(0deg) scale(1); }
}

.roulette-pointer-kick {
  transform-origin: 50% 0;
  animation: roulettePointerKick 0.3s ease-out;
}

.roulette-slice-label {
  font-family: "Sora", "Segoe UI", sans-serif;
  font-weight: 700;
  color: #fff;
  text-shadow: 0 1px 8px rgba(0, 0, 0, 0.55);
  letter-spacing: -0.01em;
}
